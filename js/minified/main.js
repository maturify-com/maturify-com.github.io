var CRUMINA={};!function(e){"use strict";var t=e(window),i=e(document),n=e("body"),o={},a=e("#site-header"),s=e(".counter"),r=e(".skills-item"),l=e(".pie-chart"),c=e(".js-animate-icon"),d=e(".right-menu"),g=e(".primary-menu"),u=e("#site-footer"),m=jQuery(".popup-search"),p=jQuery(".cart-popup-wrap");CRUMINA.fixedHeader=function(){a.headroom({offset:210,tolerance:5,classes:{initial:"animated",pinned:"swingInX",unpinned:"swingOutX"}})},CRUMINA.parallaxFooter=function(){u.length&&u.hasClass("js-fixed-footer")&&(u.before('<div class="block-footer-height"></div>'),e(".block-footer-height").matchHeight({target:u}))},CRUMINA.counters=function(){s.length&&s.each(function(){jQuery(this).waypoint(function(){e(this.element).find("span").countTo(),this.destroy()},{offset:"95%"})})},CRUMINA.progresBars=function(){r.length&&r.each(function(){jQuery(this).waypoint(function(){e(this.element).find(".count-animate").countTo(),e(this.element).find(".skills-item-meter-active").fadeTo(300,1).addClass("skills-animate"),this.destroy()},{offset:"90%"})})},CRUMINA.pieCharts=function(){l.length&&l.each(function(){jQuery(this).waypoint(function(){var t=e(this.element),i=t.data("start-color"),n=t.data("end-color"),o=100*t.data("value");t.circleProgress({thickness:16,size:320,startAngle:-Math.PI/4*2,emptyFill:"#fff",lineCap:"round",fill:{gradient:[i,n],gradientAngle:Math.PI/4}}).on("circle-animation-progress",function(e,i){t.find(".content").html(parseInt(o*i,10)+"<span>%</span>")}).on("circle-animation-end",function(){}),this.destroy()},{offset:"90%"})})},CRUMINA.animateSvg=function(){c.length&&c.each(function(){jQuery(this).waypoint(function(){e(this.element).find("> svg").drawsvg().drawsvg("animate"),this.destroy()},{offset:"95%"})})},CRUMINA.customScroll=function(){d.length&&d.mCustomScrollbar({axis:"y",scrollEasing:"linear",scrollInertia:150})},CRUMINA.togglePanel=function(){d.length&&(d.toggleClass("opened"),n.toggleClass("overlay-enable"))},CRUMINA.toggleSearch=function(){n.toggleClass("open"),e(".overlay_search-input").focus()},CRUMINA.mediaPopups=function(){e(".js-popup-iframe").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),e(".js-zoom-image, .link-image").magnificPopup({type:"image",removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-in"}},closeOnContentClick:!0,midClick:!0})},CRUMINA.equalHeight=function(){e(".js-equal-child").find(".theme-module").matchHeight({property:"min-height"})},CRUMINA.SubscribeScrollAnnimation=function(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".subscribe"}).setVelocity(".gear",{opacity:1,rotateZ:"360deg"},1200).triggerHook("onEnter").addTo(e),new ScrollMagic.Scene({triggerElement:".subscribe"}).setVelocity(".mail",{opacity:1,bottom:"0"},600).triggerHook(.8).addTo(e),new ScrollMagic.Scene({triggerElement:".subscribe"}).setVelocity(".mail-2",{opacity:1,right:"20"},800).triggerHook(.9).addTo(e)},CRUMINA.SeoScoreScrollAnnimation=function(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".seo-score"}).setVelocity(".seo-score .images img:first-of-type",{opacity:1,top:"-10"},400).triggerHook("onEnter").addTo(e),new ScrollMagic.Scene({triggerElement:".seo-score"}).setVelocity(".seo-score .images img:nth-child(2)",{opacity:1,bottom:"0"},800).triggerHook(.7).addTo(e),new ScrollMagic.Scene({triggerElement:".seo-score"}).setVelocity(".seo-score .images img:last-child",{opacity:1,bottom:"0"},1e3).triggerHook(.8).addTo(e)},CRUMINA.TestimonialScrollAnnimation=function(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".testimonial-slider"}).setVelocity(".testimonial-slider .testimonial-img",{opacity:1,bottom:"-50"},400).triggerHook(.6).addTo(e),new ScrollMagic.Scene({triggerElement:".testimonial-slider"}).setVelocity(".testimonial-slider .testimonial__thumb-img",{opacity:1,top:"-100"},600).triggerHook(1).addTo(e)},CRUMINA.OurVisionScrollAnnimation=function(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".our-vision"}).setVelocity(".our-vision .elements",{opacity:1},600).triggerHook(.6).addTo(e),new ScrollMagic.Scene({triggerElement:".our-vision"}).setVelocity(".our-vision .eye",{opacity:1,bottom:"-90"},1e3).triggerHook(1).addTo(e)},CRUMINA.MountainsScrollAnnimation=function(){var e=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:".background-mountains"}).setVelocity(".images img:first-child",{opacity:1,bottom:"0",paddingBottom:"10%"},800).triggerHook(.4).addTo(e),new ScrollMagic.Scene({triggerElement:".background-mountains"}).setVelocity(".images img:last-child",{opacity:1,bottom:"0"},800).triggerHook(.3).addTo(e)},CRUMINA.IsotopeSort=function(){e(".sorting-container").each(function(){var t=e(this),i=t.data("layout").length?t.data("layout"):"masonry";t.isotope({itemSelector:".sorting-item",layoutMode:i,percentPosition:!0}),t.imagesLoaded().progress(function(){t.isotope("layout")});t.siblings(".sorting-menu").find("li").on("click",function(){if(e(this).hasClass("active"))return!1;e(this).parent().find(".active").removeClass("active"),e(this).addClass("active");var i=e(this).data("filter");return void 0!==i?(t.isotope({filter:i}),!1):void 0})})},CRUMINA.initSwiper=function(){var t=0,i=!1;e(".swiper-container").each(function(){var n=e(this),a="swiper-unique-id-"+t;n.addClass("swiper-"+a+" initialized").attr("id",a),n.find(".swiper-pagination").addClass("pagination-"+a);var s=n.data("effect")?n.data("effect"):"slide",r=!n.data("crossfade")||n.data("crossfade"),l=0!=n.data("loop")||n.data("loop"),c=n.data("show-items")?n.data("show-items"):1,d=n.data("scroll-items")?n.data("scroll-items"):1,g=n.data("direction")?n.data("direction"):"horizontal",u=!!n.data("mouse-scroll")&&n.data("mouse-scroll"),m=n.data("autoplay")?parseInt(n.data("autoplay"),10):0,p=!!n.hasClass("auto-height"),f=c>1?20:0;c>1&&(i={480:{slidesPerView:1,slidesPerGroup:1},768:{slidesPerView:2,slidesPerGroup:2}}),o["swiper-"+a]=new Swiper(".swiper-"+a,{pagination:".pagination-"+a,paginationClickable:!0,direction:g,mousewheelControl:u,mousewheelReleaseOnEdges:u,slidesPerView:c,slidesPerGroup:d,spaceBetween:f,keyboardControl:!0,setWrapperSize:!0,preloadImages:!0,updateOnImagesReady:!0,autoplay:m,autoHeight:p,loop:l,breakpoints:i,effect:s,fade:{crossFade:r},parallax:!0,onImagesReady:function(e){},onSlideChangeStart:function(e){if(n.find(".slider-slides").length){n.find(".slider-slides .slide-active").removeClass("slide-active");var t=e.slides.eq(e.activeIndex).attr("data-swiper-slide-index");n.find(".slider-slides .slides-item").eq(t).addClass("slide-active")}}}),t++}),e(".btn-prev").on("click",function(){o["swiper-"+e(this).parent().attr("id")].slidePrev()}),e(".btn-next").on("click",function(){o["swiper-"+e(this).parent().attr("id")].slideNext()}),e(".slider-slides .slides-item").on("click",function(){if(e(this).hasClass("slide-active"))return!1;var t=e(this).parent().find(".slides-item").index(this);return o["swiper-"+e(this).closest(".swiper-container").attr("id")].slideTo(t+1),e(this).parent().find(".slide-active").removeClass("slide-active"),e(this).addClass("slide-active"),!1})},CRUMINA.burgerAnimation=function(){function e(e){e.draw("80% - 240","80%",.3,{delay:.1,callback:function(){!function(e){e.draw("100% - 545","100% - 305",.6,{easing:ease.ease("elastic-out",1,.3)})}(e)}})}function t(e){e.draw(a-60,s+60,.1,{callback:function(){!function(e){e.draw(a+120,s-120,.3,{easing:ease.ease("bounce-out",1,.3)})}(e)}})}function i(e){e.draw("90% - 240","90%",.1,{easing:ease.ease("elastic-in",1,.3),callback:function(){!function(e){e.draw("20% - 240","20%",.3,{callback:function(){!function(e){e.draw(n,o,.7,{easing:ease.ease("elastic-out",1,.3)})}(e)}})}(e)}})}var n=80,o=320,a=80,s=320,r=document.getElementById("pathD"),l=document.getElementById("pathE"),c=document.getElementById("pathF"),d=new Segment(r,n,o),g=new Segment(l,a,s),u=new Segment(c,n,o),m=document.getElementById("menu-icon-wrapper"),p=document.getElementById("menu-icon-trigger"),f=!0;m.style.visibility="visible",p.onclick=function(){!function(e){e.className="menu-icon-wrapper scaled"}(m),f?(e(d),t(g),e(u)):(i(d),function(e){e.draw(a,s,.7,{delay:.1,easing:ease.ease("elastic-out",2,.4)})}(g),i(u)),f=!f,setTimeout(function(){!function(e){e.className="menu-icon-wrapper"}(m)},450)}},t.keydown(function(e){27==e.which&&(d.hasClass("opened")&&CRUMINA.togglePanel(),n.hasClass("open")&&CRUMINA.toggleSearch())}),jQuery(".js-close-aside").on("click",function(){return d.hasClass("opened")&&CRUMINA.togglePanel(),!1}),jQuery(".js-open-aside").on("click",function(){return d.hasClass("opened")||CRUMINA.togglePanel(),!1}),jQuery(".js-open-search").on("click",function(){return CRUMINA.toggleSearch(),!1}),jQuery(".overlay_search-close").on("click",function(){return n.removeClass("open"),!1}),jQuery(".js-open-p-search").on("click",function(){m.fadeToggle()}),m.length&&m.find("input").focus(function(){m.stop().animate({width:m.closest(".container").width()+70},600)}).blur(function(){m.fadeToggle("fast",function(){m.css({width:""})})}),i.on("click",function(t){e(t.target).closest(p).length||p.hasClass("visible")&&(p.fadeToggle(200),p.toggleClass("visible")),e(t.target).closest(d).length||d.hasClass("opened")&&CRUMINA.togglePanel()}),jQuery(".js-cart-animate").on("click",function(e){e.stopPropagation(),p.toggleClass("visible"),p.fadeToggle(200)}),e(".quantity-plus").on("click",function(){var t=parseInt(e(this).prev("input").val());return e(this).prev("input").val(t+1).change(),!1}),e(".quantity-minus").on("click",function(){var t=parseInt(e(this).next("input").val());return 1!==t&&e(this).next("input").val(t-1).change(),!1}),jQuery(".accordion-heading").on("click",function(){jQuery(this).parents(".panel-heading").toggleClass("active"),jQuery(this).parents(".accordion-panel").toggleClass("active")}),jQuery(".back-to-top").on("click",function(){return e("html,body").animate({scrollTop:0},1200),!1}),jQuery(".input-inline").find("input").focus(function(){e(this).closest("form").addClass("input-drop-shadow")}).blur(function(){e(this).closest("form").removeClass("input-drop-shadow")}),i.ready(function(){e("#menu-icon-wrapper").length&&CRUMINA.burgerAnimation(),g.crumegamenu({showSpeed:300,hideSpeed:200,trigger:"hover",animation:"drop-up",indicatorFirstLevel:"&#xf0d7",indicatorSecondLevel:"&#xf105"}),CRUMINA.fixedHeader(),CRUMINA.initSwiper(),CRUMINA.equalHeight(),CRUMINA.customScroll(),CRUMINA.mediaPopups(),CRUMINA.IsotopeSort(),CRUMINA.parallaxFooter(),e("select").niceSelect(),CRUMINA.animateSvg(),CRUMINA.counters(),CRUMINA.progresBars(),CRUMINA.pieCharts(),e(".subscribe").length&&CRUMINA.SubscribeScrollAnnimation(),e(".seo-score").length&&CRUMINA.SeoScoreScrollAnnimation(),e(".testimonial-slider").length&&CRUMINA.TestimonialScrollAnnimation(),e(".our-vision").length&&CRUMINA.OurVisionScrollAnnimation(),e(".background-mountains").length&&CRUMINA.MountainsScrollAnnimation()})}(jQuery);
!function(e,i){"function"==typeof define&&define.amd?define(["ScrollMagic","velocity"],i):"object"==typeof exports?i(require("scrollmagic"),require("velocity")):i(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.Velocity||e.jQuery&&e.jQuery.Velocity)}(this,function(e,i){"use strict";var t=0;e.Scene.extend(function(){var o,r,u,n,c=this,l=e._util,s=0;c.on("progress.plugin_velocity",function(){y()}),c.on("destroy.plugin_velocity",function(e){c.off("*.plugin_velocity"),c.removeVelocity(e.reset)});var a=function(e,t,o){l.type.Array(e)?e.forEach(function(e){a(e,t,o)}):(i.Utilities.data(e,n)||i.Utilities.data(e,n,{reverseProps:l.css(e,Object.keys(r))}),i(e,t,o),void 0!==o.queue&&i.Utilities.dequeue(e,o.queue))},f=function(e,t){if(l.type.Array(e))e.forEach(function(e){f(e,t)});else{var o=i.Utilities.data(e,n);o&&o.reverseProps&&(i(e,o.reverseProps,t),void 0!==t.queue&&i.Utilities.dequeue(e,t.queue))}},y=function(){if(o){var e=c.progress();e!=s&&(0===c.duration()&&(e>0?a(o,r,u):f(o,u)),s=e)}};c.setVelocity=function(e,i,s){return o&&c.removeVelocity(),o=l.get.elements(e),r=i||{},u=s||{},n="ScrollMagic.animation.velocity["+t+++"]",void 0!==u.queue&&(u.queue=n+"_queue"),y(),c},c.removeVelocity=function(e){return o&&(void 0!==u.queue&&i(o,"stop",u.queue),e&&f(o,{duration:0}),o.forEach(function(e){i.Utilities.removeData(e,n)}),o=r=u=n=void 0),c}})});